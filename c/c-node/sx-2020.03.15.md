# 半圆笔记 2020.03.15 （Linux的文件权限与目录配置）

## Linux文件种类与扩展名
### 文件种类：
- 正规文件（regular file）:第一个属性为[-]
   - 纯文本文档(ASCII) 人类可以直接读到的数据，可用cat 指令来读取文件的内容。
   - 二进制文件(binary file) 系统仅认识且可以执行二进制文件，例如刚刚的cat就是二进制文件。
   - 数据格式文件(date) 某些程序在运作的时候会读取某些特定格式的文件 能够通过last指令来读取，但是用cat等命令，可能会出现乱码。
- 目录(directory)：第一个属性为[d]
- 连接档(link):第一个属性为[l]
就是类似Windows下面的快捷方式
- 设备与装置文件(device)
与系统周边及储存等相关的一些文件， 通常都集中在/dev这个目录之下！通常又分为两种：
   - 区块(block)设备档 ：就是一些储存数据， 以提供系统随机存取的接口设备，举例来说，硬盘与软盘等就是。
   - 字符(character)设备文件：是一些串行端口的接口设备， 例如键盘、鼠标等等！这些设备的特色就是『一次性读取』的，不能够截断输出。 
- 数据接口文件(sockets)
这种类型的文件通常被用在网络上的数据承接了。
- 数据输送文件(FIFO,pipe):
FIFO也是一种特殊的文件类型，他主要的目的在解决多个程序同时存取一个文件所造成的错误问题。 FIFO是first-in-first-out的缩写。第一个属性为[p] 。

### Linux文件扩展名
扩展名可以辅助的帮我们认知该类文件是什么，与是否能执行没有关系，当然，能够执行与能够成功执行也是两个概念，要看文件的内容。
  - \*.sh :脚本或者批处理文件
  - \*.Z，\*.tar，\*.tar.gz，\*.zip，\*.tgz： 经过打包的压缩文件。根据压缩软件的不同扩展名不同。
  - \*.html, \*.php： 网页相关文件，分别代表 HTML 语法与 PHP 语法的网页文件

### Linux文件长度限制
在Linux底下，使用预设的==Ext2/Ext3==文件系统时，针对文件的档名长度限制为：
  - 单一文件或目录的最大容许文件名为 255 个字符；
  - 包含完整路径名称及目录 (/) 之完整档名为 4096 个字符。
### Linux文件名限制
  避免以下的特殊字符,以[.]开头的文件代表隐藏文件
> \* ? > < ; & ! [ ] | \ ' " ` ( ) { }

## Linux目录配置
### Linux目录配置的依据--FHS(Filesystem Hierarchy Standard )
将目录定义为四种交互作用的形态
|   | 可分享的(shareable) | 不可分享的(unshareable) |
| :--  | :--  | :--  |
| 不变的(static)| /usr (软件放置处) | /etc (配置文件)         |
|      | /opt (第三方协力软件) | /boot (开机与核心档) |
| 可变动的(variable) | /var/mail (使用者邮件信箱) | /var/run (程序相关) |
| | /var/spool/news (新闻组) | /var/lock (程序相关) |

FHS针对目录树架构仅定义出三层目录底下应该放置什么数据，分别是底下这三个目录的定义：
- / (root, 根目录)：与开机系统有关；
- /usr (unix software resource)：与软件安装/执行有关；
- /var (variable)：与系统运作过程有关。

### (/)  (/usr)  (/var)的意义和内容
详见[鸟哥的Linux私房菜](http://cn.linux.vbird.org/linux_basic/0210filepermission.php)第三节

> 注意 因为根目录与开机有关，开机过程中仅有根目录会被挂载，因此根目录下与开机过程有关的目录， 就不能够与根目录放到不同的分割槽去，有以下几个：
>   - /etc：配置文件
>   - /bin：重要执行档
>   - /dev：所需要的装置文件
>   - /lib：执行档所需的函式库与核心所需的模块
>   - /sbin：重要的系统执行文件

### 目录树
​       在Linux底下，所有的文件与目录都是由根目录开始的！然后再一个一个的分支下来，有点像是树枝状。我们也称这种目录配置方式为：【目录树(directory tree)】，有以下的特性。

- 目录树的启始点为根目录 (/, root)；
- 每一个目录不止能使用本地端的 partition 的文件系统，也可以使用网络上的 filesystem 。举例来说， 可以利用 Network File System (NFS) 服务器挂载某特定目录等。
- 每一个文件在此目录树中的文件名(包含完整路径)都是独一无二的。

### 绝对路径和相对路径

- 绝对路径：由根目录(/)开始写起的文件名或目录名称， 例如 /home/dmtsai/.bashrc；
- 相对路径：相对于目前路径的文件名写法。 例如 ./home/dmtsai 或 ../../home/dmtsai/ 等等。反正开头不是 / 就属于相对路径的写法

> 相对路径是基于当前路径的相对位置来表示的
>
> . :代表当前的目录，也可以用./来表示；
>
> .. :代表上一层目录，也可以用../来表示；

